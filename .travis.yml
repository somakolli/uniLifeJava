before_install:
- chmod +x mvnw
jdk:
- oraclejdk8
node_js:
  - "8.2.1"
install:
- "./mvnw install -DskipTests=false -Dmaven.javadoc.skip=true -B -V"
- npm install newman
language: java
deploy:
  provider: heroku
  api_key: 44ffbade-ed54-4e0c-b9dc-683ae6f25165
  app: unitalq-development
  on:
    repo: p4ch1n0/uniLifeJava
    branch: development
  skip_cleanup: true
before_script:
  - node --version
  - npm --version
  - node_modules/.bin/newman --version
after_deploy:
  - node_modules/.bin/newman run uniTalq.postman_collection.json -e heroku.postman_environment.json
after_script:
  deploy:
    provider: pages
    skip_cleanup: true
    github_token: $GITHUB_TOKEN
    on:
      branch: master
